{"version":3,"file":"static/js/624.c0a8beda.chunk.js","mappings":"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","sources":["pages/pageStyles/RestoreStyled/RestoreStyle.js","pages/RestorePage.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport background from '../../../images/verify/BackgroundMainPage.png';\n\nexport const RestoreStyled = styled.div`\n  background-color: ${props =>\n    props.$isDark ? 'var(--dark-bg-color)' : 'transparent'};\n  height: 100%;\n  width: 100%;\n\n  .box {\n    overflow: hidden;\n    display: flex;\n    justify-content: space-between;\n    flex-direction: column;\n    gap: 20px;\n    width: 100%;\n    height: calc(100% - 60px);\n    position: relative;\n    top: 60px;\n    text-align: center;\n  }\n\n  .setting-text {\n    display: block;\n    padding-bottom: 16px;\n    overflow: hidden;\n    font-style: Roboto;\n    font-weight: 400;\n    font-size: 20px;\n    color: white;\n    line-height: 1.23;\n    text-align: center;\n    color: ${props => (props.$isDark ? 'orange' : 'var(--primary-color)')};\n  }\n\n  .setting-form-form {\n    display: block;\n    width: 384px;\n    margin-left: auto;\n    margin-right: auto;\n    padding: 8px;\n  }\n\n  @media screen and (max-width: 390px) {\n    .setting-form-form {\n      width: 100%;\n    }\n  }\n\n  .setting-form-input {\n    position: relative;\n    z-index: 500;\n    display: block;\n    width: 100%;\n    height: 44px;\n    font-family: roboto;\n    font-size: 16px;\n    color: var(--primary-color);\n    padding: 12px 10px;\n    border-radius: 6px;\n    background-color: white;\n    border: 1px solid;\n    border-color: #d7e3ff;\n    outline: 'none';\n    margin-bottom: 16px;\n  }\n\n  @media screen and(max-width: 767px) {\n    .setting-form-input {\n      width: 100%;\n    }\n  }\n\n  .setting-form-submit {\n    display: block;\n    border: 1px solid;\n    border-radius: 6px;\n    height: 44px;\n    padding: 10px 30px;\n    cursor: pointer;\n    width: 100%;\n    margin: 0 8px 8px auto;\n    color: var(--white-color);\n    font-size: 20px;\n\n    background-color: ${props =>\n      props.$isDark ? '#ff9d43' : 'var(--primary-color)'};\n    box-shadow: 0px 5px 8px rgba(64, 123, 255, 0.34);\n\n    &:hover {\n      background-color: ${props => (props.$isDark ? '#FB8925' : '#3371f8')};\n      box-shadow: 0px 5px 14px rgba(64, 123, 255, 0.54);\n    }\n\n    &:active {\n      box-shadow: none;\n    }\n  }\n\n  @media screen and (max-width: 390px) {\n    .setting-form-submit {\n      width: 100%;\n    }\n  }\n\n  .bubble-gen {\n    width: 100wv;\n    height: 0px;\n    margin: 0;\n    padding: 0;\n    bottom: 1px;\n  }\n\n  span {\n    position: absolute;\n    border-radius: 50%;\n    box-shadow: inset 0 0 10px rgba(80, 150, 250, 0.5);\n    animation: animate 5s linear infinite;\n  }\n  span:before {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    transform: scale(0.25) translate(-70%, -70%);\n    background: radial-gradient(#fff, transparent);\n    border-radius: 50%;\n  }\n  @keyframes animate {\n    0% {\n      transform: translateY(0%);\n      opacity: 1;\n    }\n    60%,\n    99% {\n      opacity: 1;\n    }\n    100% {\n      transform: translateY(-2000%);\n      opacity: 0;\n    }\n  }\n  h2 {\n    color: #333;\n    font-size: 10em;\n  }\n`;\n\nexport const BackgroundStyles = styled.div`\n  width: 100%;\n  height: 100%;\n  background-image: url(${background});\n  background-size: 100%;\n  background-position: bottom;\n  background-repeat: no-repeat;\n`;\n\nexport const ContentStyles = styled.div`\n  //стили\n\n  margin-left: auto;\n  margin-right: auto;\n\n  padding-top: 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-family: roboto;\n  color: white;\n  width: 100%;\n  margin-bottom: 8px;\n  background-color: transparent;\n`;\n","import axios from 'axios';\nimport { useFormik } from 'formik';\nimport { useNavigate } from 'react-router-dom';\nimport * as yup from 'yup';\nimport { useParams } from 'react-router-dom';\nimport {\n  RestoreStyled,\n  BackgroundStyles,\n} from './pageStyles/RestoreStyled/RestoreStyle';\nimport { getIsDarkTheme } from '../redux/theme/themeSelectors';\nimport { useSelector } from 'react-redux';\nimport { toastSuccess, toastError } from 'services/toastNotification';\nimport { PiSpinnerGap } from 'react-icons/pi';\nimport { useState, useEffect } from 'react';\n\nconst schema = yup.object().shape({\n  email: yup.string().email('Enter valid email. For example user@gmail.com'),\n  newPassword: yup\n    .string()\n    .min(8, 'Password must be at least 8 characters.')\n    .oneOf([yup.ref('repeatNewPassword')], 'Passwords do not match'),\n  repeatNewPassword: yup\n    .string()\n    .min(8, 'Password must be at least 8 characters.')\n    .oneOf([yup.ref('newPassword')], 'Passwords do not match'),\n});\n\n// =================================================================\n\n// =================================================================\n\nconst RestorePage = () => {\n  const nav = useNavigate();\n  const isDark = useSelector(getIsDarkTheme);\n\n  useEffect(() => {\n    setInterval(createCircle, (window.innerHeight / window.innerWidth) * 300);\n  }, []);\n\n  function createCircle() {\n    const section = document.querySelector('.bubble-gen');\n    const circleEl = document.createElement('span');\n    let size = Math.random() * (window.innerWidth / window.innerHeight) * 50;\n    circleEl.style.width = 15 + size + 'px';\n    circleEl.style.height = 15 + size + 'px';\n    circleEl.style.left = Math.random() * window.innerWidth + 'px';\n    section.appendChild(circleEl);\n\n    setTimeout(() => {\n      circleEl.remove();\n    }, ((Math.random() * window.innerHeight) / window.innerWidth) * 5000);\n  }\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const { restoreToken } = useParams();\n  const handleSubmit = async ({ email, newPassword }, { resetForm }) => {\n    if (!restoreToken) {\n      try {\n        setIsLoading(true);\n        await axios.post(\n          `https://dreamteam-water-server.onrender.com/api/users/restore`,\n          { email }\n        );\n\n        toastSuccess('We have sent you instruction to reset your password');\n      } catch (error) {\n        toastError('Oops, something went wrong. Please, try again');\n      } finally {\n        setIsLoading(false);\n      }\n    } else {\n      try {\n        console.log(newPassword);\n        setIsLoading(true);\n        await axios.patch(\n          `https://dreamteam-water-server.onrender.com/api/users/restore/${restoreToken}`,\n          { password: newPassword }\n        );\n        toastSuccess('Your password has been changed successful');\n      } catch (error) {\n        toastError('Sorry, something went wrong. Please, try again');\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    resetForm();\n    nav('/');\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n      newPassword: '',\n      repeatNewPassword: '',\n    },\n    validationSchema: schema,\n    onSubmit: handleSubmit,\n  });\n\n  const buttonTxt = restoreToken ? 'Change password' : 'Send email';\n  return (\n    <RestoreStyled $isDark={isDark}>\n      <BackgroundStyles>\n        <div className=\"box\">\n          <div></div>\n          <form onSubmit={formik.handleSubmit} className=\"setting-form-form\">\n            <div className=\"setting-text\">\n              Enter your{' '}\n              {restoreToken\n                ? 'new password to change it'\n                : 'email to change password'}\n            </div>\n            {restoreToken && (\n              <>\n                <label className=\"setting-form-name-label\">\n                  <input\n                    style={\n                      formik.touched.newPassword &&\n                      formik.errors.newPassword && {\n                        borderColor: '#EF5050',\n                      }\n                    }\n                    className=\"setting-form-input\"\n                    type=\"password\"\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    name=\"newPassword\"\n                    placeholder=\"Password\"\n                  />\n                </label>\n\n                <label className=\"setting-form-name-label\">\n                  <input\n                    style={\n                      formik.touched.repeatNewPassword &&\n                      formik.errors.repeatNewPassword && {\n                        borderColor: '#EF5050',\n                      }\n                    }\n                    className=\"setting-form-input\"\n                    type=\"password\"\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    name=\"repeatNewPassword\"\n                    placeholder=\"Password\"\n                  />\n                </label>\n              </>\n            )}\n            {!restoreToken && (\n              <label className=\"setting-form-name-label\">\n                <input\n                  className=\"setting-form-input\"\n                  type=\"email\"\n                  name=\"email\"\n                  onChange={formik.handleChange}\n                  onBlur={formik.handleBlur}\n                  placeholder=\"Email\"\n                />\n              </label>\n            )}\n\n            <button type=\"submit\" className=\"setting-form-submit\">\n              {isLoading ? (\n                <PiSpinnerGap className=\"spinner\" size={16} />\n              ) : (\n                buttonTxt\n              )}\n            </button>\n          </form>\n          <div className=\"bubble-gen\"></div>\n        </div>\n      </BackgroundStyles>\n    </RestoreStyled>\n  );\n};\n\nexport default RestorePage;\n"],"names":["RestoreStyled","styled","div","_templateObject","_taggedTemplateLiteral","props","$isDark","BackgroundStyles","_templateObject2","background","_templateObject3","schema","yup","shape","email","newPassword","min","oneOf","repeatNewPassword","RestorePage","nav","useNavigate","isDark","useSelector","getIsDarkTheme","createCircle","section","document","querySelector","circleEl","createElement","size","Math","random","window","innerWidth","innerHeight","style","width","height","left","appendChild","setTimeout","remove","useEffect","setInterval","isLoading","setIsLoading","useState","restoreToken","useParams","formik","useFormik","initialValues","validationSchema","onSubmit","async","_ref","_ref2","resetForm","console","log","axios","patch","concat","password","toastSuccess","error","toastError","post","buttonTxt","_jsx","children","_jsxs","className","handleSubmit","_Fragment","touched","errors","borderColor","type","onChange","handleChange","onBlur","handleBlur","name","placeholder","PiSpinnerGap"],"ignoreList":[],"sourceRoot":""}